n
q r


q = n / 2 + n / 4; q = 3/4 n;
q = q + q / 16;    q = 48/64 n + 3/64n = 51/64n
q = q + q / 256;   q = 51/64n + 51/16384n = 13107/16384n
q = q + q / 65536; q = 13107/16384n + 13107/1073741824n = 858993459 / 1073741824n
q = q / 8;         q = 858993459 / 8589934592n
  q << 2 = 3435973836 / 8589934592n
+      q =  858993459 / 8589934592n
         = 4294967295 / 4294967296n
n - res  = 1 / 4294967296
858993459 / 8589934592n + 